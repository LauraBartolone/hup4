<ion-header no-shadow no-border>
  <ion-toolbar no-shadow no-border>
    <ion-buttons slot="end">
      <ion-back-button text="" icon="close" color="secondary"></ion-back-button>
       <!-- defaultHref="welcome" -->
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true" class="ion-padding bg-primary-gradient">
  <div class="text-white">
    <h3 class="mb-5">Registrazione</h3>
    <form [formGroup]="registrationForm" (submit)="onSubmit(($event))" class="form-default">
      <ion-item color="transparent" lines="none" class="ion-no-padding">
        <ion-label color="secondary" position="stacked">Email*</ion-label>
        <ion-input type="email" formControlName="email"></ion-input>
      </ion-item>
      <div *ngIf="submitted && f.password2.errors" class="form-error">
        <p *ngIf="f.email.errors?.required">Email is required</p>
        <p *ngIf="f.email.errors?.email">Email is not valid</p>
      </div>

      <ion-item color="transparent" lines="none" class="ion-no-padding">
        <ion-label color="secondary" position="stacked">Username*</ion-label>
        <ion-input type="text" formControlName="username"></ion-input>
      </ion-item>
      <div *ngIf="submitted && f.password2.errors" class="form-error">
        <p *ngIf="f.username.errors?.required">Username is required</p>
      </div>

      <ion-item color="transparent" lines="none" class="ion-no-padding">
        <ion-label color="secondary" position="stacked">Password*</ion-label>
        <ion-input type="password" formControlName="password1"></ion-input>
      </ion-item>
      <div *ngIf="submitted && f.password2.errors" class="form-error">
        <p *ngIf="f.password1.errors?.required">Password is required</p>
        <p *ngIf="f.password1.hasError('minlength')">Minimum password length: 8 chars</p>
      </div>

      <ion-item color="transparent" lines="none" no-padding>
        <ion-label color="secondary" position="stacked">Conferma Password*</ion-label>
        <ion-input type="password" formControlName="password2"></ion-input>
      </ion-item>
      <div *ngIf="submitted && f.password2.errors" class="form-error">
        <p *ngIf="f.password2.errors?.required">Confirm Password is required</p>
        <p *ngIf="f.password2.errors.mustMatch">Passwords must match</p>
      </div>
      <ion-button type="submit" expand="block" large color="secondary" class="mt-5">REGISTRATI</ion-button>
      <p class="my-4">Hai gi√† un account?  <a class="secondary-text" tappable routerLink="/login"><u>Login</u></a></p>
    </form>

  </div>

</ion-content>


